<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Đăng ký và Đăng nhập</title>
  </head>
  <body>
    <!-- Form Đăng ký -->
    <div class="register-form">
      <h2>Form Đăng ký</h2>
      <form action="#" method="post" id="registerForm">
        <!-- Input Tên -->
        <label for="registerName">Tên: </label>
        <input type="text" name="name" id="registerName" required />
        <!-- Input Mail -->
        <label for="registerMail">Mail: </label>
        <input type="email" name="mail" id="registerMail" required />
        <!-- Input Mật khẩu -->
        <label for="registerPassword">Mật khẩu: </label>
        <input type="password" name="password" id="registerPassword" required />
        <!-- Nút Đăng ký -->
        <button type="button" onclick="register()">Đăng ký</button>
      </form>
    </div>

    <!-- Form Đăng nhập -->
    <div class="login-form">
      <h2>Form Đăng nhập</h2>
      <form action="#" method="post" id="loginForm">
        <!-- Input Mail Đăng nhập -->
        <label for="loginMail">Mail: </label>
        <input type="email" name="mail" id="loginMail" required />
        <!-- Input Mật khẩu Đăng nhập -->
        <label for="loginPassword">Mật khẩu: </label>
        <input type="password" name="password" id="loginPassword" required />
        <!-- Nút Đăng nhập -->
        <button type="button" onclick="login()">Đăng nhập</button>
      </form>
    </div>

    <!-- Kết quả sẽ được hiển thị ở đây -->
    <div class="result" id="resultDiv"></div>

    <script>
      // Hàm thực hiện đăng ký
      function register() {
        const registerName = document.getElementById("registerName").value;
        const registerMail = document.getElementById("registerMail").value;
        const registerPassword =
          document.getElementById("registerPassword").value;

        // Lấy dữ liệu đã lưu từ Local Storage hoặc tạo một mảng mới
        const userData = JSON.parse(localStorage.getItem("userData")) || [];

        // Thêm thông tin mới vào mảng
        userData.push({
          name: registerName,
          mail: registerMail,
          password: registerPassword,
        });

        // Lưu mảng mới vào Local Storage
        localStorage.setItem("userData", JSON.stringify(userData));

        // Thông báo đăng ký thành công
        alert("Đăng ký thành công!");
      }

      // Hàm thực hiện đăng nhập
      function login() {
        const loginMail = document.getElementById("loginMail").value;
        const loginPassword = document.getElementById("loginPassword").value;

        // Lấy dữ liệu đã lưu từ Local Storage hoặc tạo một mảng mới
        const userData = JSON.parse(localStorage.getItem("userData")) || [];

        // Tìm người dùng có thông tin đăng nhập đúng
        const user = userData.find(
          (u) => u.mail === loginMail && u.password === loginPassword
        );

        // Lấy phần tử hiển thị kết quả
        const resultDiv = document.getElementById("resultDiv");

        // Hiển thị kết quả đăng nhập
        if (user) {
          resultDiv.innerHTML = "<p>Đăng nhập thành công!</p>";
        } else {
          resultDiv.innerHTML = "<p>Đăng nhập thất bại!</p>";
        }
      }
    </script>
  </body>
</html>
